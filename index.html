<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’å‹•å¼ç¯€é»å±¬æ€§è§£èªª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Visualization & Content Choices:
        - Report Info: Node Attribute Definition -> Goal: Explain -> Viz: Text + Code Snippet -> Interaction: Static -> Justification: Clear definition.
        - Report Info: DigitalPal_V5 example -> Goal: Demonstrate -> Viz: Interactive HTML/CSS/JS demo (Pals as cards, selection-based linking, info display) + dynamic code snippets -> Interaction: User creates pals, sets links, sees visual/code changes -> Justification: Concrete, hands-on understanding of node attributes.
        - Report Info: Why use Node Attributes (3 points) -> Goal: Inform -> Viz: Bulleted text with icons (Unicode) -> Interaction: Static -> Justification: Concise summary of benefits.
        - Report Info: How to set up/use (Init, Set, Get) -> Goal: Instruct -> Viz: Text + Code Snippets + interactive elements in Pal demo to reflect these steps -> Interaction: User actions in demo reflect these steps -> Justification: Connects theory to practice.
        - Report Info: Considerations (Null, Type Check, Circular, Uni/Bi-directional) -> Goal: Warn/Advise -> Viz: Text + simple HTML/CSS visual cues for uni/bi-directional (e.g. arrow icons) -> Interaction: Minimal, explanatory -> Justification: Highlights important practical aspects.
        - Library/Method: Vanilla JS for interactivity and DOM manipulation. Tailwind CSS for styling. No Chart.js/Plotly as data is conceptual/diagrammatic.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .pal-card {
            transition: all 0.3s ease-in-out;
        }
        .pal-card.selected-for-linking {
            border-color: #0284c7; /* sky-600 */
            box-shadow: 0 0 0 3px rgba(2, 132, 199, 0.5);
        }
        .pal-card.highlighted-friend {
            background-color: #bae6fd; /* sky-200 */
        }
        /* For code blocks */
        pre {
            background-color: #f3f4f6; /* cool-gray-100 or slate-100 */
            border: 1px solid #e5e7eb; /* cool-gray-200 or slate-200 */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-size: 0.875rem;
        }
        code {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 0;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body class="bg-amber-50 text-stone-700 antialiased">

    <header class="bg-sky-700 text-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-2xl font-bold">äº’å‹•å¼ç¯€é»å±¬æ€§è§£èªª</h1>
                <nav class="hidden md:flex space-x-4">
                    <a href="#intro" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition-colors">ç°¡ä»‹</a>
                    <a href="#core-concept" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition-colors">æ ¸å¿ƒæ¦‚å¿µ</a>
                    <a href="#why-important" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition-colors">ç‚ºä½•é‡è¦</a>
                    <a href="#how-to" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition-colors">å¦‚ä½•å¯¦ä½œ</a>
                    <a href="#notes" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition-colors">æ³¨æ„äº‹é …</a>
                    <a href="#summary" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition-colors">ç¸½çµ</a>
                </nav>
                <button id="mobile-menu-button" class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-sky-200 hover:text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                    <span class="sr-only">é–‹å•Ÿä¸»é¸å–®</span>
                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#intro" class="nav-link block px-3 py-2 rounded-md text-base font-medium hover:bg-sky-600 transition-colors">ç°¡ä»‹</a>
                <a href="#core-concept" class="nav-link block px-3 py-2 rounded-md text-base font-medium hover:bg-sky-600 transition-colors">æ ¸å¿ƒæ¦‚å¿µ</a>
                <a href="#why-important" class="nav-link block px-3 py-2 rounded-md text-base font-medium hover:bg-sky-600 transition-colors">ç‚ºä½•é‡è¦</a>
                <a href="#how-to" class="nav-link block px-3 py-2 rounded-md text-base font-medium hover:bg-sky-600 transition-colors">å¦‚ä½•å¯¦ä½œ</a>
                <a href="#notes" class="nav-link block px-3 py-2 rounded-md text-base font-medium hover:bg-sky-600 transition-colors">æ³¨æ„äº‹é …</a>
                <a href="#summary" class="nav-link block px-3 py-2 rounded-md text-base font-medium hover:bg-sky-600 transition-colors">ç¸½çµ</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        <section id="intro" class="content-section active pt-8 mb-12">
            <h2 class="text-3xl font-bold text-sky-700 mb-6">æ·±å…¥ç†è§£ç¯€é»å±¬æ€§ (Node Attribute)</h2>
            <p class="text-lg mb-4 leading-relaxed">
                æ­¡è¿ä¾†åˆ°äº’å‹•å¼ç¯€é»å±¬æ€§è§£èªªï¼åœ¨ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆä¸­ï¼Œã€Œç¯€é»å±¬æ€§ã€æ˜¯ä¸€å€‹éå¸¸é‡è¦ä¸”å¼·å¤§çš„æ¦‚å¿µã€‚ç°¡å–®ä¾†èªªï¼Œå®ƒæŒ‡çš„æ˜¯ä¸€å€‹ç‰©ä»¶çš„æŸå€‹å±¬æ€§ï¼Œå…¶å„²å­˜çš„å€¼æ˜¯å¦ä¸€å€‹ç‰©ä»¶çš„åƒè€ƒ (reference) æˆ–å¯¦ä¾‹ (instance)ã€‚é€™ä½¿å¾—ç‰©ä»¶ä¹‹é–“å¯ä»¥å»ºç«‹é€£çµï¼Œå½¢æˆæ›´è¤‡é›œçš„è³‡æ–™çµæ§‹å’Œé—œä¿‚ã€‚æœ¬æ‡‰ç”¨ç¨‹å¼å°‡å¸¶æ‚¨ä¸€æ­¥æ­¥äº†è§£ç¯€é»å±¬æ€§çš„æ ¸å¿ƒæ¦‚å¿µã€é‡è¦æ€§ã€å¯¦ä½œæ–¹å¼ä»¥åŠæ³¨æ„äº‹é …ï¼Œä¸¦é€éäº’å‹•å¼ç¯„ä¾‹åŠ æ·±æ‚¨çš„ç†è§£ã€‚
            </p>
            <p class="text-lg leading-relaxed">
                æƒ³åƒä¸€ä¸‹ï¼Œæˆ‘å€‘åœ¨ã€Œæˆ‘çš„æ•¸ä½å¤¥ä¼´è£½é€ æ©Ÿã€å°ˆæ¡ˆä¸­å‰µé€ çš„æ•¸ä½å¤¥ä¼´å€‘ã€‚ä¸€é–‹å§‹ï¼Œæ¯å€‹å¤¥ä¼´éƒ½æ˜¯ç¨ç«‹çš„å€‹é«”ï¼Œæ“æœ‰è‡ªå·±çš„åå­—ã€ç¨®é¡ã€é¡è‰²ç­‰åŸºæœ¬å±¬æ€§ã€‚é€™äº›å±¬æ€§çš„å€¼é€šå¸¸æ˜¯å­—ä¸² (å¦‚ "çš®çš®") æˆ–æ•¸å­— (å¦‚ 100)ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘å€‘æƒ³è®“å¤¥ä¼´ä¹‹é–“ç”¢ç”Ÿæ›´æ·±å±¤çš„äº’å‹•ï¼Œä¾‹å¦‚ã€ŒA æ˜¯ B çš„å¥½æœ‹å‹ã€ï¼Œé€™æ™‚å€™å°±éœ€è¦ã€Œç¯€é»å±¬æ€§ã€äº†ã€‚è®“æˆ‘å€‘é–‹å§‹æ¢ç´¢å§ï¼
            </p>
        </section>

        <section id="core-concept" class="content-section pt-8 mb-12">
            <h2 class="text-3xl font-bold text-sky-700 mb-6">æ ¸å¿ƒæ¦‚å¿µ</h2>
            <p class="text-lg mb-4 leading-relaxed">
                æœ¬ç¯€å°‡è§£é‡‹ä»€éº¼æ˜¯ç¯€é»å±¬æ€§ï¼Œä¸¦é€éä¸€å€‹äº’å‹•å¼çš„ã€Œæ•¸ä½å¤¥ä¼´ã€ç¯„ä¾‹ä¾†å…·é«”å±•ç¤ºã€‚æ‚¨å°‡èƒ½è¦ªæ‰‹å‰µå»ºæ•¸ä½å¤¥ä¼´ä¸¦è¨­å®šå®ƒå€‘ä¹‹é–“çš„ã€Œæ‘¯å‹ã€é—œä¿‚ï¼Œå¾è€Œç›´è§€åœ°ç†è§£ç¯€é»å±¬æ€§å¦‚ä½•åœ¨ç‰©ä»¶ä¹‹é–“å»ºç«‹é€£çµã€‚
            </p>
            <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
                <h3 class="text-2xl font-semibold text-stone-800 mb-3">ä»€éº¼æ˜¯ç¯€é»å±¬æ€§ï¼Ÿ</h3>
                <p class="mb-4">åœ¨æˆ‘å€‘çš„ <code>DigitalPal_V5</code> é¡åˆ¥ä¸­ï¼ˆæ­¤è™•ä»¥JavaScriptæ¨¡æ“¬ï¼‰ï¼Œ<code>best_friend</code> å°±æ˜¯ä¸€å€‹å…¸å‹çš„ç¯€é»å±¬æ€§ã€‚å®ƒè¢«è¨­è¨ˆç”¨ä¾†å„²å­˜**å¦ä¸€å€‹ <code>DigitalPal</code> ç‰©ä»¶**ã€‚å®ƒä¸æ˜¯å„²å­˜æ‘¯å‹çš„åå­— (ä¸€å€‹å­—ä¸²)ï¼Œè€Œæ˜¯å„²å­˜é‚£å€‹æ‘¯å‹ç‰©ä»¶åœ¨è¨˜æ†¶é«”ä¸­çš„ã€Œåƒè€ƒã€ã€‚</p>
                <pre><code class="language-javascript">
class DigitalPal {
    constructor(name, species, color) {
        this.name = name;
        this.species = species;
        this.color = color;
        this.best_friend = null; // åˆå§‹æ™‚æ²’æœ‰æ‘¯å‹
        // ... å…¶ä»–å±¬æ€§ ...
    }
    // ... å…¶ä»–æ–¹æ³• ...
}
                </code></pre>
            </div>

            <h3 class="text-2xl font-semibold text-stone-800 mb-4">äº’å‹•ç¯„ä¾‹ï¼šæ•¸ä½å¤¥ä¼´çš„æ‘¯å‹åœˆ</h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="md:col-span-1 bg-white p-6 rounded-lg shadow-lg">
                    <h4 class="text-xl font-semibold text-sky-700 mb-4">å‰µå»ºæ–°çš„æ•¸ä½å¤¥ä¼´</h4>
                    <div class="space-y-4">
                        <div>
                            <label for="palName" class="block text-sm font-medium text-stone-600">åå­—:</label>
                            <input type="text" id="palName" class="mt-1 block w-full px-3 py-2 border border-stone-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="ä¾‹å¦‚ï¼šçš®çš®">
                        </div>
                        <div>
                            <label for="palSpecies" class="block text-sm font-medium text-stone-600">ç¨®é¡:</label>
                            <input type="text" id="palSpecies" class="mt-1 block w-full px-3 py-2 border border-stone-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="ä¾‹å¦‚ï¼šè²“å’ª">
                        </div>
                        <div>
                            <label for="palColor" class="block text-sm font-medium text-stone-600">é¡è‰²:</label>
                            <input type="text" id="palColor" class="mt-1 block w-full px-3 py-2 border border-stone-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="ä¾‹å¦‚ï¼šæ©˜è‰²">
                        </div>
                        <button id="createPalBtn" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition-colors">å‰µå»ºå¤¥ä¼´</button>
                    </div>
                    <hr class="my-6">
                    <h4 class="text-xl font-semibold text-sky-700 mb-4">è¨­å®šæ‘¯å‹é—œä¿‚</h4>
                    <div class="space-y-4">
                        <div>
                            <label for="pal1Select" class="block text-sm font-medium text-stone-600">é¸æ“‡å¤¥ä¼´1:</label>
                            <select id="pal1Select" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-stone-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md"></select>
                        </div>
                        <div>
                            <label for="pal2Select" class="block text-sm font-medium text-stone-600">é¸æ“‡å¤¥ä¼´2 (è¨­ç‚ºå¤¥ä¼´1çš„æ‘¯å‹):</label>
                            <select id="pal2Select" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-stone-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md"></select>
                        </div>
                        <button id="setFriendBtn" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition-colors">è¨­ç‚ºæ‘¯å‹</button>
                    </div>
                </div>

                <div class="md:col-span-2 bg-white p-6 rounded-lg shadow-lg min-h-[300px] pal-diagram-container" style="position: relative; max-width: 800px; margin-left: auto; margin-right: auto; height: auto; max-height: 500px;">
                    <h4 class="text-xl font-semibold text-sky-700 mb-4">æˆ‘çš„å¤¥ä¼´å€‘</h4>
                    <div id="palsDisplay" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                        </div>
                    <div id="palInfoDisplay" class="mt-6 p-4 border border-stone-200 rounded-md bg-stone-50 hidden">
                        <h5 class="text-lg font-semibold text-sky-700">å¤¥ä¼´è³‡è¨Š</h5>
                        <p id="selectedPalInfo"></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="why-important" class="content-section pt-8 mb-12">
            <h2 class="text-3xl font-bold text-sky-700 mb-6">ç‚ºä½•é‡è¦ï¼Ÿ</h2>
            <p class="text-lg mb-6 leading-relaxed">
                äº†è§£ç‚ºä½•ç¯€é»å±¬æ€§å¦‚æ­¤é‡è¦ï¼Œæœ‰åŠ©æ–¼æˆ‘å€‘è¨­è¨ˆæ›´å¼·å¤§ã€æ›´éˆæ´»çš„ç‰©ä»¶å°å‘ç¨‹å¼ã€‚ç¯€é»å±¬æ€§ä¸åƒ…åƒ…æ˜¯å„²å­˜æ•¸æ“šï¼Œå®ƒæ›´é–‹å•Ÿäº†ç‰©ä»¶ä¹‹é–“äº’å‹•èˆ‡å”ä½œçš„å¯èƒ½æ€§ï¼Œè®“ç¨‹å¼ç¢¼èƒ½æ›´çœŸå¯¦åœ°æ¨¡æ“¬è¤‡é›œçš„ä¸–ç•Œã€‚
            </p>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">ğŸ”— å»ºç«‹ç‰©ä»¶é–“çš„æ˜ç¢ºé—œä¿‚</h3>
                    <p>é€éç¯€é»å±¬æ€§ï¼Œæˆ‘å€‘å¯ä»¥æ¸…æ¥šåœ°å®šç¾©ç‰©ä»¶ä¹‹é–“çš„ç‰¹å®šé—œä¿‚ï¼Œä¾‹å¦‚ã€Œæœ‹å‹ã€ã€ã€Œçˆ¶å­ã€ã€ã€Œä¸Šå¸ä¸‹å±¬ã€ã€ã€Œä¸‹ä¸€å€‹ç¯€é»ã€ç­‰ã€‚åœ¨æˆ‘å€‘çš„ä¾‹å­ä¸­ï¼Œ<code>pal_luna.best_friend = pal_stella</code> å°±æ˜ç¢ºå»ºç«‹äº†éœ²å¨œå’Œå²é»›æ‹‰ä¹‹é–“çš„ã€Œæ‘¯å‹ã€é—œä¿‚ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">ğŸ’¡ å­˜å–é—œè¯ç‰©ä»¶çš„å®Œæ•´è³‡è¨Šèˆ‡åŠŸèƒ½</h3>
                    <p>ä¸€æ—¦å»ºç«‹äº†é€£çµï¼Œæˆ‘å€‘å°±å¯ä»¥é€éé€™å€‹ç¯€é»å±¬æ€§ï¼Œç›´æ¥å­˜å–è¢«é€£çµç‰©ä»¶çš„æ‰€æœ‰å±¬æ€§å’Œæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœéœ²å¨œçš„æ‘¯å‹æ˜¯å²é»›æ‹‰ï¼Œæˆ‘å€‘å°±å¯ä»¥è®“å²é»›æ‹‰è‡ªæˆ‘ä»‹ç´¹æˆ–è¡¨æ¼”æ‰è—ï¼Œè€Œä¸åƒ…åƒ…æ˜¯çŸ¥é“å¥¹çš„åå­—ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">ğŸ•¸ï¸ å»ºæ§‹è¤‡é›œçš„è³‡æ–™çµæ§‹</h3>
                    <p>ç¯€é»å±¬æ€§æ˜¯è¨±å¤šé«˜ç´šè³‡æ–™çµæ§‹çš„åŸºç¤ï¼Œä¾‹å¦‚éˆè¡¨ (Linked Lists)ã€æ¨¹ (Trees) å’Œåœ– (Graphs)ã€‚é€™äº›çµæ§‹åœ¨è§£æ±ºå„ç¨®è¤‡é›œå•é¡Œæ™‚éƒ½è‡³é—œé‡è¦ã€‚</p>
                </div>
            </div>
        </section>

        <section id="how-to" class="content-section pt-8 mb-12">
            <h2 class="text-3xl font-bold text-sky-700 mb-6">å¦‚ä½•å¯¦ä½œï¼Ÿ</h2>
            <p class="text-lg mb-6 leading-relaxed">
                å¯¦ä½œç¯€é»å±¬æ€§é€šå¸¸æ¶‰åŠåˆå§‹åŒ–ã€è¨­å®šé€£çµä»¥åŠå–å¾—ä¸¦ä½¿ç”¨é€£çµé€™ä¸‰å€‹ä¸»è¦æ­¥é©Ÿã€‚ä¸‹é¢æˆ‘å€‘å°‡è©³ç´°è§£é‡‹æ¯å€‹æ­¥é©Ÿï¼Œä¸¦çµåˆç¨‹å¼ç¢¼ç¯„ä¾‹ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨ä¸Šé¢çš„äº’å‹•ç¯„ä¾‹ä¸­è§€å¯Ÿé€™äº›æ­¥é©Ÿçš„å¯¦éš›é‹ä½œã€‚
            </p>
            <div class="space-y-8">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">1. åˆå§‹åŒ– (Initialization)</h3>
                    <p class="mb-4">é€šå¸¸åœ¨ç‰©ä»¶çš„ <code>constructor</code> (æˆ– Python ä¸­çš„ <code>__init__</code>) æ–¹æ³•ä¸­ï¼Œç¯€é»å±¬æ€§æœƒè¢«åˆå§‹åŒ–ç‚ºä¸€å€‹é è¨­å€¼ï¼Œè¡¨ç¤ºé€£çµå°šæœªå»ºç«‹ã€‚æœ€å¸¸è¦‹çš„é è¨­å€¼æ˜¯ <code>null</code> (åœ¨ JavaScript ä¸­) æˆ– <code>None</code> (åœ¨ Python ä¸­)ã€‚</p>
                    <pre><code class="language-javascript">
this.best_friend = null; // åœ¨ constructor ä¸­
                    </code></pre>
                    <p class="mt-2 text-sm text-stone-500">ç•¶æ‚¨åœ¨äº’å‹•ç¯„ä¾‹ä¸­ã€Œå‰µå»ºå¤¥ä¼´ã€æ™‚ï¼Œæ–°å¤¥ä¼´çš„ `best_friend` å±¬æ€§åˆå§‹å°±æ˜¯ `null`ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">2. è¨­å®šé€£çµ (Setting the Attribute)</h3>
                    <p class="mb-4">æˆ‘å€‘æœƒæä¾›ä¸€å€‹æ–¹æ³•ï¼ˆé€šå¸¸ç¨±ç‚º "setter" æ–¹æ³•ï¼‰ä¾†å»ºç«‹æˆ–æ›´æ–°é€™å€‹é€£çµã€‚é€™å€‹æ–¹æ³•æœƒæ¥æ”¶å¦ä¸€å€‹ç‰©ä»¶ä½œç‚ºåƒæ•¸ï¼Œä¸¦å°‡å…¶è³¦å€¼çµ¦ç¯€é»å±¬æ€§ã€‚</p>
                    <pre><code class="language-javascript">
setBestFriend(friendObject) {
    if (friendObject instanceof DigitalPal) { // æª¢æŸ¥é¡å‹æ˜¯å¦æ­£ç¢º
        this.best_friend = friendObject;
        console.log(`${this.name} å’Œ ${this.best_friend.name} ç¾åœ¨æ˜¯æ‘¯å‹äº†ï¼`);
    } else {
        console.error("è¨­å®šæ‘¯å‹å¤±æ•—ï¼æ‘¯å‹å¿…é ˆæ˜¯ DigitalPal å¤¥ä¼´ã€‚");
    }
}
                    </code></pre>
                    <p class="mt-2 text-sm text-stone-500">åœ¨äº’å‹•ç¯„ä¾‹ä¸­ï¼Œç•¶æ‚¨é¸æ“‡å…©å€‹å¤¥ä¼´ä¸¦é»æ“Šã€Œè¨­ç‚ºæ‘¯å‹ã€æ™‚ï¼Œå°±æœƒå‘¼å«é¡ä¼¼é€™æ¨£çš„æ–¹æ³•ä¾†è¨­å®šé€£çµã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">3. å–å¾—èˆ‡ä½¿ç”¨é€£çµ (Getting and Using the Attribute)</h3>
                    <p class="mb-4">ä¸€æ—¦é€£çµå»ºç«‹ï¼Œå°±å¯ä»¥é€é <code>.</code> é‹ç®—å­ä¾†å­˜å–é€™å€‹ç¯€é»å±¬æ€§ï¼Œé€²è€Œå­˜å–è¢«é€£çµç‰©ä»¶çš„å±¬æ€§å’Œæ–¹æ³•ã€‚</p>
                    <pre><code class="language-javascript">
showMyBestFriend() {
    if (this.best_friend) { // ç¢ºä¿æ‘¯å‹å­˜åœ¨ (ä¸æ˜¯ null)
        console.log(`${this.name} çš„æ‘¯å‹æ˜¯ ${this.best_friend.name} (${this.best_friend.species})ï¼`);
        // å¯ä»¥é€²ä¸€æ­¥å‘¼å«æ‘¯å‹çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼šthis.best_friend.introduce_myself();
    } else {
        console.log(`${this.name} é‚„åœ¨å°‹æ‰¾æˆ‘çš„æ‘¯å‹...`);
    }
}
                    </code></pre>
                    <p class="mt-2 text-sm text-stone-500">åœ¨äº’å‹•ç¯„ä¾‹ä¸­ï¼Œç•¶æ‚¨é»æ“Šä¸€å€‹å¤¥ä¼´å¡ç‰‡æ™‚ï¼Œå…¶è³‡è¨Šï¼ˆåŒ…æ‹¬æ‘¯å‹çš„åå­—ï¼‰å°±æœƒé¡¯ç¤ºå‡ºä¾†ï¼Œé€™å°±æ˜¯å–å¾—ä¸¦ä½¿ç”¨é€£çµçš„ä¾‹å­ã€‚</p>
                </div>
            </div>
        </section>

        <section id="notes" class="content-section pt-8 mb-12">
            <h2 class="text-3xl font-bold text-sky-700 mb-6">æ³¨æ„äº‹é …</h2>
            <p class="text-lg mb-6 leading-relaxed">
                åœ¨ä½¿ç”¨ç¯€é»å±¬æ€§æ™‚ï¼Œæœ‰ä¸€äº›é‡è¦çš„ç´°ç¯€éœ€è¦æ³¨æ„ï¼Œä»¥ç¢ºä¿ç¨‹å¼çš„ç©©å®šæ€§å’Œæ­£ç¢ºæ€§ã€‚å¿½ç•¥é€™äº›ç´°ç¯€å¯èƒ½æœƒå°è‡´éé æœŸçš„éŒ¯èª¤æˆ–è¡Œç‚ºã€‚
            </p>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">ğŸš« ç©ºé€£çµ (Null/None References)</h3>
                    <p>è¦æ³¨æ„ç¯€é»å±¬æ€§å¯èƒ½ç‚º <code>null</code> æˆ– <code>None</code> çš„æƒ…æ³ï¼ˆä¾‹å¦‚ï¼Œå¤¥ä¼´é‚„æ²’æœ‰æ‘¯å‹ï¼‰ã€‚åœ¨è©¦åœ–å­˜å–è¢«é€£çµç‰©ä»¶çš„å±¬æ€§æˆ–æ–¹æ³•ä¹‹å‰ï¼Œæœ€å¥½å…ˆæª¢æŸ¥é€£çµæ˜¯å¦å­˜åœ¨ï¼Œä»¥é¿å…éŒ¯èª¤ (å¦‚ <code>TypeError: Cannot read property 'name' of null</code>)ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">âœ”ï¸ é¡å‹æª¢æŸ¥ (Type Checking)</h3>
                    <p>åœ¨è¨­å®šç¯€é»å±¬æ€§æ™‚ï¼Œé€²è¡Œé¡å‹æª¢æŸ¥æ˜¯ä¸€å€‹å¥½ç¿’æ…£ï¼Œç¢ºä¿é€£çµåˆ°çš„æ˜¯æœŸæœ›é¡å‹çš„ç‰©ä»¶ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>instanceof</code> æª¢æŸ¥ç¢ºä¿æ‘¯å‹ç¢ºå¯¦æ˜¯ä¸€å€‹ <code>DigitalPal</code> ç‰©ä»¶ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">ğŸ”„ å¾ªç’°åƒè€ƒ (Circular References)</h3>
                    <p>ç‰©ä»¶ä¹‹é–“å¯èƒ½å½¢æˆå¾ªç’°åƒè€ƒï¼ˆä¾‹å¦‚ A çš„æ‘¯å‹æ˜¯ Bï¼ŒB çš„æ‘¯å‹æ˜¯ Aï¼Œç”šè‡³æ›´è¤‡é›œçš„ç’°ï¼‰ã€‚åœ¨æœ‰è‡ªå‹•è¨˜æ†¶é«”å›æ”¶çš„èªè¨€å¦‚ JavaScript æˆ– Python ä¸­ï¼Œé€™é€šå¸¸ä¸æ˜¯å¤§å•é¡Œï¼Œä½†è‹¥è™•ç†ä¸ç•¶ï¼Œåœ¨æŸäº›ç‰¹å®šæƒ…å¢ƒä¸‹å¯èƒ½å½±éŸ¿æ•ˆèƒ½æˆ–åºåˆ—åŒ–ã€‚åœ¨æ‰‹å‹•ç®¡ç†è¨˜æ†¶é«”çš„èªè¨€ä¸­å‰‡éœ€ç‰¹åˆ¥å°å¿ƒè¨˜æ†¶é«”æ´©æ¼ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-sky-600 mb-3">
                        <span class="tooltip">â†”ï¸<span class="tooltiptext">å–®å‘ï¼šA â†’ Bã€‚é›™å‘ï¼šA â‡† B</span></span>
                        å–®å‘èˆ‡é›™å‘é€£çµ
                    </h3>
                    <p>åœ¨æˆ‘å€‘çš„ <code>setBestFriend</code> ä¾‹å­ä¸­ï¼Œé€£çµæ˜¯å–®å‘çš„ã€‚è¨­å®šéœ²å¨œçš„æ‘¯å‹æ˜¯å²é»›æ‹‰ï¼Œä¸¦ä¸æœƒè‡ªå‹•å°‡å²é»›æ‹‰çš„æ‘¯å‹è¨­ç‚ºéœ²å¨œã€‚å¦‚æœéœ€è¦é›™å‘é€£çµï¼Œå‰‡éœ€è¦åœ¨è¨­å®šæ–¹æ³•ä¸­é€²è¡Œé¡å¤–çš„è™•ç†ï¼ŒåŒæ™‚æ›´æ–°å…©å€‹ç‰©ä»¶çš„ç›¸æ‡‰ç¯€é»å±¬æ€§ã€‚</p>
                </div>
            </div>
        </section>

        <section id="summary" class="content-section pt-8 mb-12">
            <h2 class="text-3xl font-bold text-sky-700 mb-6">ç¸½çµ</h2>
            <p class="text-lg mb-4 leading-relaxed">
                ç¯€é»å±¬æ€§æ˜¯ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆä¸­ä¸€å€‹éå¸¸éˆæ´»ä¸”å¼·å¤§çš„å·¥å…·ã€‚å®ƒå…è¨±æˆ‘å€‘è¶…è¶Šç°¡å–®çš„æ•¸æ“šå€¼ï¼Œå°‡ç‰©ä»¶æœ¬èº«ä½œç‚ºå±¬æ€§ï¼Œå¾è€Œå»ºç«‹èµ·ç‰©ä»¶ä¹‹é–“è±å¯Œçš„ã€æœ‰æ„ç¾©çš„é€£çµã€‚é€™ä¸åƒ…è®“æˆ‘å€‘çš„ç¨‹å¼æ¨¡å‹æ›´è²¼è¿‘ç¾å¯¦ä¸–ç•Œçš„è¤‡é›œé—œä¿‚ï¼Œä¹Ÿç‚ºå¯¦ç¾æ›´é«˜ç´šçš„æ¼”ç®—æ³•å’Œè³‡æ–™çµæ§‹é‹ªå¹³äº†é“è·¯ã€‚
            </p>
            <p class="text-lg leading-relaxed">
                å¸Œæœ›é€éæœ¬äº’å‹•å¼è§£èªªï¼Œæ‚¨å°ç¯€é»å±¬æ€§æœ‰äº†æ›´æ·±å…¥çš„ç†è§£ã€‚è¨˜å¾—ï¼Œç†è§£äº†ç‰©ä»¶ä¹‹é–“çš„é€£çµæ–¹å¼ï¼Œæ‚¨å°±èƒ½å»ºæ§‹å‡ºæ›´è¤‡é›œã€æ›´æœ‰è¶£çš„æ•¸ä½ä¸–ç•Œï¼
            </p>
        </section>
    </main>

    <footer class="bg-stone-800 text-stone-300 text-center p-6 mt-12">
        <p>&copy; <span id="currentYear"></span> äº’å‹•å¼ç¯€é»å±¬æ€§è§£èªª. éˆæ„Ÿä¾†æºæ–¼æ•™å­¸æ¦‚å¿µã€‚</p>
    </footer>

    <script>
        // --- Navigation Logic ---
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.content-section');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        function setActiveSection(targetId) {
            sections.forEach(section => {
                if (section.id === targetId) {
                    section.classList.add('active');
                } else {
                    section.classList.remove('active');
                }
            });
            // For mobile menu, close it after click
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
            }
            window.scrollTo(0, 0); // Scroll to top of new section
        }

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                setActiveSection(targetId);
                // Update URL hash without page jump for history
                history.pushState(null, null, `#${targetId}`);
            });
        });

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        // Handle initial section based on URL hash
        if (window.location.hash) {
            const initialTargetId = window.location.hash.substring(1);
            const targetSection = document.getElementById(initialTargetId);
            if (targetSection && targetSection.classList.contains('content-section')) {
                 setActiveSection(initialTargetId);
            } else {
                 setActiveSection('intro'); // Default to intro if hash is invalid
            }
        } else {
            setActiveSection('intro'); // Default to intro if no hash
        }

        // Handle back/forward browser navigation
        window.addEventListener('popstate', () => {
            if (window.location.hash) {
                setActiveSection(window.location.hash.substring(1));
            } else {
                setActiveSection('intro');
            }
        });

        // --- Digital Pal Interactive Demo Logic ---
        class DigitalPal {
            constructor(name, species, color) {
                this.id = `pal-${Date.now()}-${Math.random().toString(36).substr(2, 5)}`;
                this.name = name;
                this.species = species;
                this.color = color;
                this.best_friend = null; // Stores the ID of the best friend Pal object
            }

            setBestFriend(friendPal) {
                if (friendPal instanceof DigitalPal) {
                    this.best_friend = friendPal.id; // Store friend's ID
                    return true;
                }
                return false;
            }

            getBestFriendName(palsArray) {
                if (this.best_friend) {
                    const friend = palsArray.find(p => p.id === this.best_friend);
                    return friend ? friend.name : 'æœªçŸ¥ (IDä¸å­˜åœ¨)';
                }
                return 'ç„¡';
            }
        }

        let pals = [];
        const palNameInput = document.getElementById('palName');
        const palSpeciesInput = document.getElementById('palSpecies');
        const palColorInput = document.getElementById('palColor');
        const createPalBtn = document.getElementById('createPalBtn');
        const palsDisplay = document.getElementById('palsDisplay');
        const pal1Select = document.getElementById('pal1Select');
        const pal2Select = document.getElementById('pal2Select');
        const setFriendBtn = document.getElementById('setFriendBtn');
        const palInfoDisplay = document.getElementById('palInfoDisplay');
        const selectedPalInfoP = document.getElementById('selectedPalInfo');
        
        let selectedPalCardForInfo = null;

        function renderPals() {
            palsDisplay.innerHTML = '';
            pal1Select.innerHTML = '<option value="">--é¸æ“‡--</option>';
            pal2Select.innerHTML = '<option value="">--é¸æ“‡--</option>';

            if (pals.length === 0) {
                palsDisplay.innerHTML = '<p class="text-stone-500 col-span-full text-center">é‚„æ²’æœ‰å‰µå»ºä»»ä½•å¤¥ä¼´å–”ï¼</p>';
            }

            pals.forEach(pal => {
                // Create Pal Card
                const card = document.createElement('div');
                card.classList.add('pal-card', 'p-4', 'border', 'border-stone-300', 'rounded-lg', 'shadow-sm', 'bg-white', 'cursor-pointer', 'hover:shadow-md');
                card.dataset.palId = pal.id;
                card.innerHTML = `
                    <h5 class="font-semibold text-lg text-sky-700">${pal.name}</h5>
                    <p class="text-sm text-stone-600">${pal.species} (${pal.color})</p>
                    <p class="text-xs mt-1 text-stone-500">æ‘¯å‹: <span class="font-medium friend-name">${pal.getBestFriendName(pals)}</span></p>
                `;
                card.addEventListener('click', () => displayPalInfo(pal));
                palsDisplay.appendChild(card);

                // Populate Selectors
                const option1 = document.createElement('option');
                option1.value = pal.id;
                option1.textContent = pal.name;
                pal1Select.appendChild(option1);

                const option2 = document.createElement('option');
                option2.value = pal.id;
                option2.textContent = pal.name;
                pal2Select.appendChild(option2);
            });
            updatePalCardHighlights();
        }
        
        function displayPalInfo(pal) {
            if (selectedPalCardForInfo) {
                selectedPalCardForInfo.classList.remove('selected-for-linking');
            }
            const palCard = document.querySelector(`.pal-card[data-pal-id="${pal.id}"]`);
            if (palCard) {
                palCard.classList.add('selected-for-linking');
                selectedPalCardForInfo = palCard;
            }

            selectedPalInfoP.innerHTML = `
                <strong>åå­—:</strong> ${pal.name}<br>
                <strong>ç¨®é¡:</strong> ${pal.species}<br>
                <strong>é¡è‰²:</strong> ${pal.color}<br>
                <strong>æ‘¯å‹:</strong> ${pal.getBestFriendName(pals)}
            `;
            palInfoDisplay.classList.remove('hidden');
            updatePalCardHighlights(pal.id);
        }

        function updatePalCardHighlights(selectedPalId = null) {
            const allCards = document.querySelectorAll('.pal-card');
            allCards.forEach(card => card.classList.remove('highlighted-friend'));

            if (selectedPalId) {
                const selectedPal = pals.find(p => p.id === selectedPalId);
                if (selectedPal && selectedPal.best_friend) {
                    const friendCard = document.querySelector(`.pal-card[data-pal-id="${selectedPal.best_friend}"]`);
                    if (friendCard) {
                        friendCard.classList.add('highlighted-friend');
                    }
                }
            }
        }


        createPalBtn.addEventListener('click', () => {
            const name = palNameInput.value.trim();
            const species = palSpeciesInput.value.trim();
            const color = palColorInput.value.trim();

            if (name && species && color) {
                if (pals.find(p => p.name.toLowerCase() === name.toLowerCase())) {
                    alert("å¤¥ä¼´åå­—å·²å­˜åœ¨ï¼Œè«‹ä½¿ç”¨ä¸åŒçš„åå­—ã€‚");
                    return;
                }
                const newPal = new DigitalPal(name, species, color);
                pals.push(newPal);
                palNameInput.value = '';
                palSpeciesInput.value = '';
                palColorInput.value = '';
                renderPals();
            } else {
                alert('è«‹å¡«å¯«æ‰€æœ‰å¤¥ä¼´è³‡è¨Šï¼');
            }
        });

        setFriendBtn.addEventListener('click', () => {
            const pal1Id = pal1Select.value;
            const pal2Id = pal2Select.value;

            if (pal1Id && pal2Id) {
                if (pal1Id === pal2Id) {
                    alert("å¤¥ä¼´ä¸èƒ½å°‡è‡ªå·±è¨­ç‚ºæ‘¯å‹ï¼");
                    return;
                }
                const pal1 = pals.find(p => p.id === pal1Id);
                const pal2 = pals.find(p => p.id === pal2Id);

                if (pal1 && pal2) {
                    pal1.setBestFriend(pal2);
                    renderPals();
                    // If pal1 was currently displayed, update its info
                    if (selectedPalCardForInfo && selectedPalCardForInfo.dataset.palId === pal1.id) {
                        displayPalInfo(pal1);
                    }
                     alert(`${pal1.name} å’Œ ${pal2.name} ç¾åœ¨æ˜¯æ‘¯å‹äº†ï¼`);
                }
            } else {
                alert('è«‹é¸æ“‡å…©å€‹å¤¥ä¼´ï¼');
            }
        });
        
        // Initialize
        renderPals(); // Initial render for selectors even if no pals
        document.getElementById('currentYear').textContent = new Date().getFullYear();

    </script>
</body>
</html>
